<p>{@info}</p>
<form method="post">
    <label for="code">[@Make a payment]:</label>
    <select name="receiver" id="receiver" onchange="hideCode()">
        <option value="citizen">[@Citizen]</option>
        <optgroup label="[@State]">
            {@states}
        </optgroup>
    </select>
    <input name="code" type="text" pattern="[A-Za-z\d]{4}" placeholder="[@Receiver's code]" id="code" required>
    <input name="amount" type="number" step="1" placeholder="[@Amount]" id="amount" required>
    <input name="description" type="text" placeholder="[@Description]" id="description" required>
    <button name="pay" type="submit">[@Send]</button>
</form>
<br>
<table>
    {@header}
    {@transactions}
</table>

<script>
    function hideCode()
    {
        var select = document.getElementById("receiver");
        var value = select.options[select.selectedIndex].value;
        var input = document.getElementById("code");
        if(value == "citizen")
        {
            input.removeAttribute("hidden");
            input.setAttribute("required", "");
        }
        else
        {
            input.removeAttribute("required");
            input.setAttribute("hidden", "");
            input.value = "";
        }
    }
</script>
